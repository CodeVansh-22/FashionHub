<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FashionHub | Product Details</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <section id="header">
        <a href="index.html"><h2 class="logo">FashionHub</h2></a>
        <div>
            <ul id="navbar">
                <li><a href="index.html">Home</a></li>
                <li><a href="men.html">Men</a></li>
                <li><a href="women.html">Women</a></li>
                <li><a href="shoes.html">Shoes</a></li>
                <li id="lg-bag"><a href="cart.html"><i class="fa-solid fa-bag-shopping"></i></a></li>
                <a href="#" id="close"><i class="fas fa-times"></i></a>
            </ul>
        </div>
        <div id="mobile">
            <a href="cart.html"><i class="fa-solid fa-bag-shopping"></i></a>
            <i id="bar" class="fas fa-outdent"></i>
        </div>
    </section>

    <section id="prodetails" class="section-p1">
        <div class="single-pro-image">
            <img src="assets/f1.jpg" width="100%" id="MainImg" alt="Product Image">
            
            <div class="small-img-group">
                <div class="small-img-col">
                    <img src="assets/f1.jpg" width="100%" class="small-img" alt="">
                </div>
                <div class="small-img-col">
                    <img src="assets/f1.jpg" width="100%" class="small-img" alt="">
                </div>
                <div class="small-img-col">
                    <img src="assets/f1.jpg" width="100%" class="small-img" alt="">
                </div>
                <div class="small-img-col">
                    <img src="assets/f1.jpg" width="100%" class="small-img" alt="">
                </div>
            </div>
        </div>

        <div class="single-pro-details">
            <h6>Home / Product Details</h6>
            <h4 id="proName">Product Name</h4>
            <h2 id="proPrice">$0.00</h2>
            
            <select id="proSize">
                <option>Select Size</option>
                <option>XL</option>
                <option>XXL</option>
                <option>Small</option>
                <option>Large</option>
            </select>
            
            <input type="number" value="1" id="proQty">
            <button class="normal" id="addToCartBtn">Add To Cart</button>
            <h4>Product Details</h4>
            <span>High-quality material designed for comfort and style. Perfect for casual or formal occasions. Durable and premium finish.</span>
        </div>
    </section>

    <section id="product1" class="section-p1">
        <h2 class="section-title">Related Products</h2>
        <div class="pro-container">
            <div class="pro" onclick="window.location.href='index.html';">
                <img src="assets/n1.jpg" alt="">
                <div class="des">
                    <span>Adidas</span>
                    <h5>Cartoon Astronaut T-Shirts</h5>
                    <h4>$78</h4>
                </div>
                <a href="#"><i class="fa-solid fa-cart-shopping cart"></i></a>
            </div>
            <div class="pro" onclick="window.location.href='index.html';">
                <img src="assets/n2.jpg" alt="">
                <div class="des">
                    <span>Adidas</span>
                    <h5>Cartoon Astronaut T-Shirts</h5>
                    <h4>$78</h4>
                </div>
                <a href="#"><i class="fa-solid fa-cart-shopping cart"></i></a>
            </div>
            <div class="pro" onclick="window.location.href='index.html';">
                <img src="assets/n3.jpg" alt="">
                <div class="des">
                    <span>Adidas</span>
                    <h5>Cartoon Astronaut T-Shirts</h5>
                    <h4>$78</h4>
                </div>
                <a href="#"><i class="fa-solid fa-cart-shopping cart"></i></a>
            </div>
            <div class="pro" onclick="window.location.href='index.html';">
                <img src="assets/n4.jpg" alt="">
                <div class="des">
                    <span>Adidas</span>
                    <h5>Cartoon Astronaut T-Shirts</h5>
                    <h4>$78</h4>
                </div>
                <a href="#"><i class="fa-solid fa-cart-shopping cart"></i></a>
            </div>
        </div>
    </section>

    <footer class="section-p1">
        <div class="col">
            <h4>Contact</h4>
            <p><strong>Address:</strong> 562 Wellington Road, Street 32, San Francisco</p>
            <p><strong>Phone:</strong> +01 2222 365</p>
        </div>
    </footer>

    <script>
        // --- 1. DYNAMIC PRODUCT LOADING ---
        const urlParams = new URLSearchParams(window.location.search);
        const name = urlParams.get('name');
        const price = urlParams.get('price');
        const img = urlParams.get('img');
        const cat = urlParams.get('cat'); // Get Category (e.g., 'shoes')

        // Update Text and Image
        if(name) document.getElementById('proName').innerText = name;
        if(price) document.getElementById('proPrice').innerText = price;
        if(img) {
            document.getElementById('MainImg').src = img;
            var thumbnails = document.getElementsByClassName('small-img');
            for(var i=0; i<thumbnails.length; i++){
                thumbnails[i].src = img;
            }
        }

        // --- 2. SWITCH SIZES IF SHOES ---
        if (cat === 'shoes') {
            const sizeSelect = document.getElementById('proSize');
            // Overwrite inner HTML with shoe sizes
            sizeSelect.innerHTML = `
                <option>Select Size</option>
                <option>5</option>
                <option>6</option>
                <option>7</option>
                <option>8</option>
                <option>9</option>
                <option>10</option>
            `;
        }

        // --- 3. ADD TO CART LOGIC ---
        const addToCartBtn = document.getElementById('addToCartBtn');
        addToCartBtn.addEventListener('click', () => {
            const size = document.getElementById('proSize').value;
            if(size === "Select Size") { alert("Please select a size first!"); return; }

            const product = {
                id: Date.now(),
                image: document.getElementById('MainImg').src,
                name: document.getElementById('proName').innerText,
                price: document.getElementById('proPrice').innerText,
                size: size,
                quantity: document.getElementById('proQty').value
            };

            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            cart.push(product);
            localStorage.setItem('cart', JSON.stringify(cart));
            alert("Product added to cart!");
            window.location.href = "cart.html";
        });

        // --- 4. NAVBAR LOGIC ---
        const bar = document.getElementById('bar');
        const close = document.getElementById('close');
        const nav = document.getElementById('navbar');
        if (bar) { bar.addEventListener('click', () => { nav.classList.add('active'); }) }
        if (close) { close.addEventListener('click', () => { nav.classList.remove('active'); }) }
    </script>
</body>
</html>